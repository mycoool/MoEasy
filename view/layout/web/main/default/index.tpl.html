<div id="main" role="main">

  <ul id="tiles">
    <?php foreach ($data['list'] as $key => $weibo) {?>
    <li><img src="<?php echo $weibo['pic'];?>"><p><?php echo $weibo['content'];?></p></li>
    <?php } ?>
  </ul>

</div>
  <!-- include jQuery -->
  <script src="static/script/jquery-1.7.1.min.js"></script>
  
  <!-- Include the imagesLoaded plug-in -->
  <script src="static/script/jquery.imagesloaded.js"></script>
  
  <!-- Include the plug-in -->
  <script src="static/script/jquery.wookmark.js"></script>
  
  <!-- Once the images are loaded, initalize the Wookmark plug-in. -->
  <script type="text/javascript">
    $('#tiles').imagesLoaded(function() {
      // Prepare layout options.
      var options = {
        autoResize: true, // This will auto-update the layout when the browser window is resized.
        container: $('#main'), // Optional, used for some extra CSS styling
        offset: 2, // Optional, the distance between grid items
        itemWidth: 216 // Optional, the width of a grid item
      };
      
      // Get a reference to your grid items.
      var handler = $('#tiles li');
      
      // Call the layout function.
      handler.wookmark(options);
      
      // Capture clicks on grid items.
      handler.click(function(){
        // Randomize the height of the clicked item.
        var newHeight = $('img', this).height() + Math.round(Math.random()*300+30);
        $(this).css('height', newHeight+'px');
        
        // Update the layout.
        handler.wookmark();
      });
    });
  </script>